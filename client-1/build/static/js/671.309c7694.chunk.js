"use strict";(self.webpackChunkacme_client=self.webpackChunkacme_client||[]).push([[671],{9785:(e,t,r)=>{r.d(t,{pr:()=>y,VR:()=>F,ZQ:()=>v,PC:()=>j,rW:()=>x,FX:()=>R,ay:()=>N,zE:()=>z});var a=r(402),o=r(3232),n=r(8643),s=r(8936),l=r(7705),d=r(627),i=r(9103),c=r(913),m=r(1831),u=r(8913),g=r(3679),p=r(3567),h=r(7758),f=r(5399),A=r.n(f);const b=(e,t)=>"#"+e.replace(/^#/,"").replace(/../g,(e=>("0"+Math.min(255,Math.max(0,parseInt(e,16)+t)).toString(16)).substr(-2)));var k=r(1186),C=r(8058);const v=a.memo((e=>{const t=(0,h.A)((e=>({startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}})))();return(0,C.jsx)(o.A,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:t.textField,placeholder:e.placeholder,onChange:t=>e.onChange(t.target.value),disabled:e.disabled,error:!(0,k.RI)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,C.jsx)(n.A,{className:e.startAdornmentClass?e.startAdornmentClass:t.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,C.jsx)(C.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,C.jsx)(n.A,{className:e.endAdornmentClass?e.endAdornmentClass:t.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,C.jsx)(C.Fragment,{}),className:t.input},...e})}));v.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};const x=a.memo((e=>{const t=(0,h.A)((e=>({startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"}})))();return(0,C.jsx)(o.A,{onKeyDown:e=>!(!["Backspace","Delete","Escape","Enter","Tab","ArrowLeft","ArrowRight"].includes(e.key)&&!/[0-9+ ]/.test(e.key))||(e.preventDefault(),!1),id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:t.textField,placeholder:e.placeholder,onChange:t=>e.onChange(t.target.value),disabled:e.disabled,error:!(0,k.RI)(e.error),InputProps:{startAdornment:e.startAdornmentIcon?(0,C.jsx)(n.A,{className:e.startAdornmentClass?e.startAdornmentClass:t.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,C.jsx)(C.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,C.jsx)(n.A,{className:e.endAdornmentClass?e.endAdornmentClass:t.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,C.jsx)(C.Fragment,{}),className:t.input,inputComponent:A(),inputProps:{maskChar:null,formatChars:{9:"[0-9]","+":"\\+"," ":" "}}},...e})}));x.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};const R=a.memo((e=>{const t=(0,h.A)((e=>(e=>({selectRoot:{"&.MuiSelect-select":{backgroundColor:e.palette.base.backgroundColor}},startAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:-15,marginRight:5,paddingLeft:10,paddingRight:10,borderRight:"1px solid #c5c5c5"},endAdornment:{backgroundColor:"#eaedf0",height:"2.5rem",maxHeight:"3rem",marginLeft:5,marginRight:-15,paddingLeft:10,paddingRight:10,borderLeft:"1px solid #c5c5c5"},marginVertical:{marginTop:7,marginBottom:5}}))(e)))();return(0,C.jsx)(s.A,{id:e.id,type:e.type,value:e.value,required:e.required,autoFocus:e.autoFocus,autoComplete:e.autoComplete.toString(),variant:e.variant,fullWidth:e.fullWidth,label:e.label,size:e.size,margin:e.margin,className:e.className?e.className:[t.marginVertical,t.selectField],onChange:t=>e.onChange(t.target.value),disabled:e.disabled,error:!(0,k.RI)(e.error),input:(0,C.jsx)(l.A,{startAdornment:e.startAdornmentIcon?(0,C.jsx)(n.A,{className:e.startAdornmentClass?e.startAdornmentClass:t.startAdornment,position:"start",children:e.startAdornmentIcon}):(0,C.jsx)(C.Fragment,{}),endAdornment:e.endAdornmentIcon?(0,C.jsx)(n.A,{className:e.endAdornmentClass?e.endAdornmentClass:t.endAdornment,position:"end",children:e.endAdornmentIcon}):(0,C.jsx)(C.Fragment,{})}),inputProps:{className:t.selectRoot},multiple:e.multiple,renderValue:t=>(0,C.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:e.multiple?t.map(((e,r)=>(0,C.jsxs)("div",{style:{margin:2},children:[e,r<t.length-1?", ":""]},r))):(0,C.jsx)("div",{style:{margin:2},children:t})}),...e,children:e.options.map((e=>(0,C.jsx)(d.A,{value:e,style:{marginTop:2,marginBottom:2},classes:{selected:t.selected},children:e},e)))})}));R.defaultProps={type:"text",required:!1,autoFocus:!1,autoComplete:!1,variant:"outlined",fullWidth:!0,label:"",size:"small",margin:"dense",className:null,placeholder:"",startAdornmentClass:null,endAdornmentClass:null,disabled:!1,error:""};const y=a.memo((e=>{const t=(0,h.A)((e=>(e=>({button:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1.1em",color:"#fff",backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:b(e.palette.success.main,-25)},noWrap:!0},buttonSecondary:{margin:e.spacing(1,0,0,0),textTransform:"none",fontSize:"1em !important",color:"#ccc",backgroundColor:e.palette.secondary.dark+" !important","&:hover":{backgroundColor:b(e.palette.secondary.dark,-25)+" !important"},noWrap:!0},buttonFederated:{margin:e.spacing(1,0,0,0),justifyContent:"flex-start",paddingLeft:e.spacing(5),fontSize:"1.3em"},buttonFederatedFacebook:{backgroundColor:e.palette.socialButtons.facebook.backgroundColor,"&:hover":{backgroundColor:b(e.palette.socialButtons.facebook.backgroundColor,-25)}},buttonFederatedGoogle:{backgroundColor:e.palette.socialButtons.google.backgroundColor,"&:hover":{backgroundColor:b(e.palette.socialButtons.google.backgroundColor,-25)}}}))(e)))();return(0,C.jsx)(i.A,{fullWidth:e.fullWidth,variant:e.variant,color:e.color,size:e.size,className:`${t.button} ${e.social?t.buttonFederated:""} ${e.social?t["buttonFederated"+(0,k.ZH)(e.social)]:""} ${t[e.className]}`,startIcon:e.startIcon,onClick:e.onClick,disabled:e.disabled,...e,children:e.children})}));y.defaultProps={fullWidth:!0,variant:"contained",color:"primary",social:null};a.memo((e=>{const t=(0,h.A)((e=>({disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none"}}})))(),r=e.disabled?t.disabled:"";return(0,C.jsx)(c.A,{control:(0,C.jsx)(m.A,{checked:e.checked,onChange:t=>e.onChange(t.target.checked),className:`${e.className} ${r}`,color:e.color,size:e.size,disabled:e.disabled,...e}),label:(0,C.jsx)(N,{className:`${e.className} ${r}`,children:e.children})})})).defaultProps={checked:!1,color:"primary",size:"small"};const N=a.memo((e=>(0,C.jsx)(u.A,{component:e.component,variant:e.variant,color:e.color,align:e.align,...e,children:e.children})));N.defaultProps={component:"h1",variant:"body2",color:"textPrimary"};const j=a.memo((e=>{const t=(0,h.A)((e=>({normal:{cursor:"pointer"},disabled:{color:"grey",cursor:"default","&:hover":{textDecoration:"none",color:"grey"}}})))(),r=e.disabled?t.disabled:t.normal;return(0,C.jsx)(g.A,{href:e.href,className:`${e.className} ${r}`,color:e.color,...e,children:e.children})}));j.defaultProps={color:"textPrimary"};const F=a.memo((e=>{const t=(0,h.A)((t=>(t=>({container:{display:"flex",alignItems:"center",marginTop:t.spacing(e.marginVertical),marginBottom:t.spacing(e.marginVertical)},divider:{width:"100%",borderBottom:"1px solid "+(e.color?e.color:t.palette.primary.dark),paddingLeft:t.spacing(1)},text:{paddingLeft:t.spacing(e.paddingHorizontal),paddingRight:t.spacing(e.paddingHorizontal)}}))(t)))();return(0,C.jsxs)("div",{className:t.container,children:[(0,C.jsx)("div",{className:t.divider}),e.children&&(0,C.jsx)("span",{className:t.text,children:e.children}),(0,C.jsx)("div",{className:t.divider})]})}));F.defaultProps={marginVertical:1,paddingHorizontal:1};const z=a.memo((e=>{var t;const r=(0,h.A)((e=>(e=>({title:{padding:8,paddingRight:24,borderRadius:4,textAlign:"right",color:e.palette.title.color,backgroundColor:e.palette.title.backgroundColor}}))(e)))();return(0,C.jsx)(p.A,{sx:{marginBottom:24},className:null!==(t=e.classes)&&void 0!==t?t:r.title,children:(0,C.jsx)(u.A,{variant:"h6",children:e.children||e.contents})})}));z.defaultProps={contents:"No title",marginVertical:1,paddingHorizontal:1}},2335:(e,t,r)=>{r.d(t,{BD:()=>N,fM:()=>j,Wh:()=>v,L_:()=>x,wz:()=>k,lo:()=>C,a1:()=>R,TL:()=>F,Un:()=>z,Jv:()=>b,TK:()=>y});var a=r(2608),o=r.n(a),n=r(6239),s=r(2704),l=r(6749);const d=new n.A;let i=!1,c=[];const m=()=>{var e,t;return null===(e=d.get("auth"))||void 0===e||null===(t=e.user)||void 0===t?void 0:t.accessToken},u=()=>{const e=d.get("auth");d.set("auth",{...e,user:!1})},g=()=>o().create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json","X-Auth-Token":m()}}),p=g(),h=g();p.interceptors.request.use((e=>(e.headers.Authorization=m(),e)),(e=>Promise.reject(e))),p.interceptors.request.use((e=>{if("undefined"===typeof e.headers["Accept-Version"]){const t="1";e.headers["Accept-Version"]=t}return e}),(e=>Promise.reject(e)));const f=async()=>{try{const e=(()=>{var e,t;return null===(e=d.get("auth"))||void 0===e||null===(t=e.user)||void 0===t?void 0:t.refreshToken})(),t=await h.post("/auth/refreshtoken",{token:e});return console.log("instanceForRefresh response:",t),(e=>{const t=d.get("auth");d.set("auth",{...t,user:{...t.user,accessToken:e}})})(t.data.accessToken),t.data.accessToken}catch(e){throw console.log("instanceForRefresh error:",e),u(),e}};p.interceptors.response.use((e=>e),(async e=>{const{config:t,response:r}=e;if(404===r.status&&(window.location.href="/404"),401===r.status&&"/auth/signin"!==t.url){if(i)return new Promise(((e,r)=>{var a;a=r=>{t.headers.Authorization=r,e(p(t))},c.push(a)}));i=!0;try{const e=await f();return i=!1,a=e,c.map((e=>e(a))),c=[],p(t)}catch(o){return console.log("refreshError caught:",o),i=!1,u(),s.o.warning(o.response.data.message),setTimeout((()=>{window.location.href="/signin"}),1e3*l.A.ui.toastAutoCloseSeconds),o.response.data.message=null,Promise.reject(o)}}var a;return Promise.reject(e)}));const A=p,b=e=>A.post("/auth/signin",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),k=e=>(console.log("getUser = (params):",e),A.get("/user/getUser",{params:e}).then((e=>({ok:!0,...e.data}))).catch((e=>{var t,r;return console.log("0 getUser ERROR, err:",e,JSON.stringify(e)),null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error?(console.log("1 getUser ERROR, err:",JSON.stringify(e.response.data.error),typeof e.response.data.error),{ok:!1,message:e.response.data.error}):(console.log("2 getUser ERROR, err:",JSON.stringify(e)),{ok:!1,...e.response.data})}))),C=e=>A.get("/user/getAllUsersWithFullInfo",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),v=e=>A.get("/user/getAllPlans",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),x=e=>A.get("/user/getAllRoles",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),R=e=>(console.log("removeUser = (params):",e),A.post("/user/removeUser",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data})))),y=e=>(console.log("updateUser = (params):",e),A.post("/user/updateUser",e).then((e=>(console.log("updateUser SUCCESS, response:",e),{ok:!0,...e.data}))).catch((e=>{var t,r;return console.log("0 updateUser ERROR, err:",e,JSON.stringify(e)),null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.error?(console.log("1 updateUser ERROR, err:",JSON.stringify(e.response.data.error),typeof e.response.data.error),{ok:!1,message:e.response.data.error}):(console.log("2 updateUser ERROR, err:",JSON.stringify(e)),{ok:!1,...e.response.data})}))),N=e=>A.post("/auth/resetPassword",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),j=e=>A.post("/auth/resetPasswordConfirm",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),F=e=>A.post("/auth/resend",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data}))),z=e=>A.post("/user/sendEmailToUsers",e).then((e=>({ok:!0,...e.data}))).catch((e=>({ok:!1,...e.response.data})))}}]);
//# sourceMappingURL=671.309c7694.chunk.js.map
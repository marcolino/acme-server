"use strict";(self.webpackChunkacme_client=self.webpackChunkacme_client||[]).push([[184],{2184:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var n,a=r(402),s=r(7282),i=r(7847),o=r(1619),l=r(7758),c=r(8910),d=r(1919),h=r(2209),u=r(3567),m=r(5408),f=r(9108),g=r(4302),p=r(2335);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(null,arguments)}function x(e,t){let{title:r,titleId:s,...i}=e;return a.createElement("svg",v({fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",ref:t,"aria-labelledby":s},i),r?a.createElement("title",{id:s},r):null,n||(n=a.createElement("path",{d:"M25,3C12.85,3,3,12.85,3,25c0,11.03,8.125,20.137,18.712,21.728V30.831h-5.443v-5.783h5.443v-3.848 c0-6.371,3.104-9.168,8.399-9.168c2.536,0,3.877,0.188,4.512,0.274v5.048h-3.612c-2.248,0-3.033,2.131-3.033,4.533v3.161h6.588 l-0.894,5.783h-5.694v15.944C38.716,45.318,47,36.137,47,25C47,12.85,37.15,3,25,3z"})))}const j=a.forwardRef(x);r.p;var w;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(null,arguments)}function y(e,t){let{title:r,titleId:n,...s}=e;return a.createElement("svg",A({fill:"#ffffff",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,w||(w=a.createElement("path",{d:"M 25.996094 48 C 13.3125 48 2.992188 37.683594 2.992188 25 C 2.992188 12.316406 13.3125 2 25.996094 2 C 31.742188 2 37.242188 4.128906 41.488281 7.996094 L 42.261719 8.703125 L 34.675781 16.289063 L 33.972656 15.6875 C 31.746094 13.78125 28.914063 12.730469 25.996094 12.730469 C 19.230469 12.730469 13.722656 18.234375 13.722656 25 C 13.722656 31.765625 19.230469 37.269531 25.996094 37.269531 C 30.875 37.269531 34.730469 34.777344 36.546875 30.53125 L 24.996094 30.53125 L 24.996094 20.175781 L 47.546875 20.207031 L 47.714844 21 C 48.890625 26.582031 47.949219 34.792969 43.183594 40.667969 C 39.238281 45.53125 33.457031 48 25.996094 48 Z"})))}const C=a.forwardRef(y);r.p;var b=r(8058);const S={display:"flex",width:20,height:20,alignItems:"center",justifyContent:"center",marginLeft:5,marginRight:5},P=a.memo((()=>(0,b.jsx)("div",{style:{...S,width:26,marginLeft:1},children:(0,b.jsx)(j,{})}))),E=a.memo((()=>(0,b.jsx)("div",{style:{...S,width:20,marginLeft:1,marginRight:10},children:(0,b.jsx)(C,{})})));var L=r(2704),k=r(9785),R=r(6094),I=r(5560),z=r(9509),N=r(6749);const _=(0,l.A)((e=>(e=>({avatar:{backgroundColor:e.palette.success.main},forgotPassword:{color:e.palette.success.main},signUp:{color:e.palette.success.main},columnLeft:{marginLeft:e.spacing(.2)},columnRight:{marginLeft:"auto",marginRight:e.spacing(.2)},fieldset:{border:0}}))(e)));function V(){const e=_(),t=(0,s.W6)(),[r,n]=(0,a.useState)(""),[l,v]=(0,a.useState)(""),[x,j]=(0,a.useState)({}),{setAuth:w}=(0,a.useContext)(R.c),A=(0,a.useContext)(I.h),{promiseInProgress:y}=(0,i.H8)({delay:N.A.spinner.delay}),{t:C}=(0,o.B)(),S=()=>!!A||(L.o.warning("Sorry, we are currently offline. Please wait for the network to become available."),!1),V=()=>{const e=(0,z.DT)(r);if(!0!==e){let t;switch(e){case"ERROR_PLEASE_SUPPLY_AN_EMAIL":t=C("Please supply an email");break;case"ERROR_PLEASE_SUPPLY_A_VALID_EMAIL":t=C("Please supply a valid email");break;default:t=e}return j({email:t}),L.o.warning(t),!1}if(!l){const e="Please supply a password";return j({password:e}),L.o.warning(e),!1}return!0};return(0,b.jsx)(h.A,{maxWidth:"xs",children:(0,b.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:(0,b.jsxs)("fieldset",{disabled:y,className:e.fieldset,children:[(0,b.jsx)(u.A,{m:0}),(0,b.jsx)(d.A,{container:!0,justifyContent:"center",children:(0,b.jsx)(c.A,{className:e.avatar,children:(0,b.jsx)(m.A,{})})}),(0,b.jsx)(u.A,{m:2}),(0,b.jsx)(d.A,{container:!0,justifyContent:"flex-start",children:(0,b.jsx)(k.ay,{children:C("Sign in with email and password")})}),(0,b.jsx)(u.A,{m:0}),(0,b.jsx)(k.ZQ,{autoFocus:!0,id:"email",value:r,onChange:e=>n(e.target.value),placeholder:C("Email"),startAdornmentIcon:(0,b.jsx)(f.A,{}),error:x.email}),(0,b.jsx)(k.ZQ,{id:"password",type:"password",value:l,onChange:e=>v(e.target.value),placeholder:C("Password"),startAdornmentIcon:(0,b.jsx)(g.A,{}),error:x.password}),(0,b.jsx)(u.A,{m:1}),(0,b.jsx)(k.pr,{onClick:e=>{e.preventDefault(),V()&&S()&&(j({}),(0,p.Jv)({email:r,password:l}).then((e=>{if(!e.ok)return console.warn("signIn error:",e),L.o.error(C(e.message)),void j({});console.log("signIn success:",e);const r=e;console.log("SETAUTH {user}:",r),w({user:r}),n(""),v(""),t.push("/")})).catch((e=>{console.error("signIn error catched:",e),L.o.error(C(e.message)),j({})})))},children:C("Sign In")}),(0,b.jsxs)(d.A,{container:!0,alignItems:"center",children:[(0,b.jsx)(d.A,{className:e.columnLeft}),(0,b.jsx)(d.A,{className:e.columnRight,style:{marginTop:5},children:(0,b.jsx)(k.PC,{onClick:()=>t.push("/forgot-password"),className:e.forgotPassword,children:C("Forgot Password?")})})]}),(0,b.jsx)(u.A,{m:2}),(0,b.jsxs)(d.A,{container:!0,direction:"row",justifyContent:"center",spacing:1,children:[(0,b.jsx)(d.A,{item:!0,children:(0,b.jsx)(k.ay,{children:C("Don't have an account?")})}),(0,b.jsx)(d.A,{item:!0,children:(0,b.jsx)(k.PC,{onClick:()=>t.push("/signup"),className:e.signUp,children:C("Register Now!")})})]}),!!N.A.oauth.federatedSigninProviders.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.A,{m:3}),(0,b.jsx)(k.VR,{children:(0,b.jsx)(k.ay,{children:(0,b.jsx)("i",{children:C("or")})})}),(0,b.jsx)(u.A,{m:3}),(0,b.jsx)(d.A,{container:!0,justifyContent:"flex-start",children:(0,b.jsx)(k.ay,{children:C("Sign in with a social account")})}),(0,b.jsx)(u.A,{m:0}),N.A.oauth.federatedSigninProviders.map((e=>(0,b.jsx)(k.pr,{social:e,startIcon:"Facebook"===e?(0,b.jsx)(P,{}):(0,b.jsx)(E,{}),onClick:e=>(e=>{e.preventDefault(),V()&&S()&&(j({}),window.open("/api/auth/loginGoogle","_self"))})(e),children:e},e)))]})]})})})}const M=a.memo(V)},8910:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(2515),a=r(7374),s=r(402),i=r(5697),o=r(4406);const l=(0,r(5253).A)(s.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var c=s.forwardRef((function(e,t){var r=e.alt,o=e.children,c=e.classes,d=e.className,h=e.component,u=void 0===h?"div":h,m=e.imgProps,f=e.sizes,g=e.src,p=e.srcSet,v=e.variant,x=void 0===v?"circular":v,j=(0,a.A)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),w=null,A=function(e){var t=e.src,r=e.srcSet,n=s.useState(!1),a=n[0],i=n[1];return s.useEffect((function(){if(t||r){i(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=r,n.onload=function(){e&&i("loaded")},n.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,r]),a}({src:g,srcSet:p}),y=g||p,C=y&&"error"!==A;return w=C?s.createElement("img",(0,n.A)({alt:r,src:g,srcSet:p,sizes:f,className:c.img},m)):null!=o?o:y&&r?r[0]:s.createElement(l,{className:c.fallback}),s.createElement(u,(0,n.A)({className:(0,i.A)(c.root,c.system,c[x],d,!C&&c.colorDefault),ref:t},j),w)}));const d=(0,o.A)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(c)},4302:(e,t,r)=>{var n=r(6069),a=r(8968);t.A=void 0;var s=a(r(402)),i=(0,n(r(2212)).default)(s.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.A=i},5408:(e,t,r)=>{var n=r(6069),a=r(8968);t.A=void 0;var s=a(r(402)),i=(0,n(r(2212)).default)(s.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.A=i},9108:(e,t,r)=>{var n=r(6069),a=r(8968);t.A=void 0;var s=a(r(402)),i=(0,n(r(2212)).default)(s.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.A=i}}]);
//# sourceMappingURL=184.ba4784db.chunk.js.map